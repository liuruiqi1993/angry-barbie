<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Vue笔记 | 立个flag先</title>
<meta name="generator" content="Jekyll v4.0.0" />
<meta property="og:title" content="Vue笔记" />
<meta name="author" content="刘瑞琪" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="遇到的几个vue的问题，答不上来 源码 虚拟dom vue.delete provide/inject $attr, $listener transition，transition-group" />
<meta property="og:description" content="遇到的几个vue的问题，答不上来 源码 虚拟dom vue.delete provide/inject $attr, $listener transition，transition-group" />
<link rel="canonical" href="http://localhost:4000/vue/vue.html" />
<meta property="og:url" content="http://localhost:4000/vue/vue.html" />
<meta property="og:site_name" content="立个flag先" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-04-27T18:09:12+08:00" />
<script type="application/ld+json">
{"headline":"Vue笔记","dateModified":"2020-04-27T18:09:12+08:00","datePublished":"2020-04-27T18:09:12+08:00","author":{"@type":"Person","name":"刘瑞琪"},"mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/vue/vue.html"},"description":"遇到的几个vue的问题，答不上来 源码 虚拟dom vue.delete provide/inject $attr, $listener transition，transition-group","@type":"BlogPosting","url":"http://localhost:4000/vue/vue.html","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<script src="https://cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
  <link rel="stylesheet" href="/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="立个flag先" />
</head>
<body><header class="site-header sticky-top">
  <nav class="navbar navbar-expand-sm navbar-light wrapper">
    <a class="navbar-brand site-title" rel="author" href="/">立个flag先</a>

    <div class="social social1"><ul class="social-media-list"><li><a rel="me" target="_blank"
      href="mailto:405782134@qq.com"
      title="405782134@qq.com"><svg class="svg-icon">
        <use xlink:href="/assets/font/minima-social-icons.svg#email"></use>
      </svg></a></li><li><a rel="me" target="_blank" href="https://github.com/liuruiqi1993" title="liuruiqi1993"><svg class="svg-icon"><use xlink:href="/assets/font/minima-social-icons.svg#github"></use></svg></a></li></ul></div>

    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
      aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>


    <div class="collapse navbar-collapse justify-content-end" id="navbarSupportedContent">
      <ul class="navbar-nav site-nav navbar-light"><li class="nav-item">
          <a class="nav-link page-link" href="/plan/index.html">学习计划</a>
        </li></ul>
    </div>

    <div class="social social2"><ul class="social-media-list"><li><a rel="me" target="_blank"
      href="mailto:405782134@qq.com"
      title="405782134@qq.com"><svg class="svg-icon">
        <use xlink:href="/assets/font/minima-social-icons.svg#email"></use>
      </svg></a></li><li><a rel="me" target="_blank" href="https://github.com/liuruiqi1993" title="liuruiqi1993"><svg class="svg-icon"><use xlink:href="/assets/font/minima-social-icons.svg#github"></use></svg></a></li></ul></div>
  </nav>
</header>
<main class="page-content" aria-label="Content"  data-spy="scroll" data-target="#toc" data-offset="20">
      <div class="custom-nav side-sticky sticky-top"><nav class="collection-wrap" id="accordionExample">
    
    <div class="collection-item">
        <a class="collection-head" href="/css/list" data-toggle="collapse" data-target="#Css" aria-expanded="false"
            aria-controls="Css">
            Css
        </a>
        <ul id="Css" class="collection-body collapse" aria-labelledby="Css" data-parent="#accordionExample"><li>
                <a href="/css/%20adaptive/%E5%93%8D%E5%BA%94%E5%BC%8F%E5%92%8C%E8%87%AA%E9%80%82%E5%BA%94.html">
                    响应式和自适应
                </a>
            </li><li>
                <a href="/css/3D-animate/3D%E4%B8%8E%E5%8A%A8%E7%94%BB.html">
                    3D与动画
                </a>
            </li><li>
                <a href="/css/CSS%E9%80%89%E6%8B%A9%E5%99%A8.html">
                    CSS选择器
                </a>
            </li><li>
                <a href="/css/font/CSS%E5%AD%97%E4%BD%93.html">
                    CSS字体
                </a>
            </li><li>
                <a href="/css/property/CSS%E5%B1%9E%E6%80%A7.html">
                    CSS属性
                </a>
            </li></ul>
    </div>
    <div class="collection-item">
        <a class="collection-head" href="/html/list" data-toggle="collapse" data-target="#HTML" aria-expanded="false"
            aria-controls="HTML">
            HTML
        </a>
        <ul id="HTML" class="collection-body collapse" aria-labelledby="HTML" data-parent="#accordionExample"><li>
                <a href="/html/meta/meta.html">
                    meta
                </a>
            </li></ul>
    </div>
    <div class="collection-item">
        <a class="collection-head" href="/js/list" data-toggle="collapse" data-target="#Javasript" aria-expanded="false"
            aria-controls="Javasript">
            Javasript
        </a>
        <ul id="Javasript" class="collection-body collapse" aria-labelledby="Javasript" data-parent="#accordionExample"><li>
                <a href="/js/%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E8%AE%A1%E5%88%92%E8%A1%A8:%E5%A4%8D%E4%B9%A0%E5%A2%9E%E5%88%A0%E6%94%B9%E6%9F%A5.html">
                    创建一个计划表：复习增删改查
                </a>
            </li></ul>
    </div>
    <div class="collection-item">
        <a class="collection-head" href="/react/list" data-toggle="collapse" data-target="#React" aria-expanded="false"
            aria-controls="React">
            React
        </a>
        <ul id="React" class="collection-body collapse" aria-labelledby="React" data-parent="#accordionExample"><li>
                <a href="/react/react.html">
                    React笔记
                </a>
            </li><li>
                <a href="/react/%E5%B0%9D%E8%AF%95%E4%B8%80%E4%B8%AAreact.html">
                    尝试一个react
                </a>
            </li></ul>
    </div>
    <div class="collection-item">
        <a class="collection-head" href="/record/list" data-toggle="collapse" data-target="#记录" aria-expanded="false"
            aria-controls="记录">
            记录
        </a>
        <ul id="记录" class="collection-body collapse" aria-labelledby="记录" data-parent="#accordionExample"><li>
                <a href="/record/jekyll/jekyll.html">
                    Jekyll笔记
                </a>
            </li><li>
                <a href="/record/mock.html">
                    Mock
                </a>
            </li><li>
                <a href="/record/%E7%AB%8B%E4%B8%AAflag.html">
                    立个flag
                </a>
            </li></ul>
    </div><div class="collection-item">
        <a class="collection-head active" href="/vue/list" data-toggle="collapse" data-target="#Vue" aria-expanded="true" aria-controls="Vue">
            Vue
        </a>
        <ul id="Vue" class="collection-body collapse show" aria-labelledby="Vue" data-parent="#accordionExample">
            <li><a class="active" href="/vue/vue.html">
                    Vue笔记
                </a>
                
            </li></ul>
    </div>
    </nav></div>
      <div class="sidebar side-sticky sticky-top"><script src="/assets/js/toc.js"></script>
<div id="toc"> 
</div>
<script type="text/javascript">
    $(document).ready(function () {
        $('#toc').toc();
    });
</script></div>
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting" >
  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Vue笔记</h1>
    <p class="post-meta"><time class="dt-published" datetime="2020-04-27T18:09:12+08:00" itemprop="datePublished">
        Apr 27, 2020
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <div class="post-wrap">
      <p>遇到的几个vue的问题，答不上来</p>
<ol>
  <li>源码</li>
  <li>虚拟dom</li>
  <li>vue.delete</li>
  <li>provide/inject</li>
  <li>$attr, $listener</li>
  <li>transition，transition-group</li>
</ol>

<p>重新看了文档之后的问题</p>
<ol>
  <li><a href="https://www.cnblogs.com/ziyunfei/p/5545439.html">passive修饰符</a><br />
 浏览器无法预先知道一个监听器会不会调用 <code class="highlighter-rouge">preventDefault()</code>，它能做的只有等监听器执行完后再去执行默认行为，导致页面卡顿。passive 的意思是“顺从的”，表示它不会对事件的默认行为说 no，浏览器知道了一个监听器是 passive 的，它就可以在两个线程里同时执行监听器中的 JavaScript 代码和浏览器的默认行为了。 passive 监听器能保证的只有一点，那就是调用 <code class="highlighter-rouge">preventDefault()</code> 无效.</li>
  <li>想起从前项目中的一个bug，element-ui表格按字母表分类，array变化后显示有问题。</li>
  <li>Vue.config.optionMergeStrategies</li>
</ol>

<h2 id="响应式原理">响应式原理</h2>
<ul>
  <li>把一个普通的 JavaScript 对象传入 Vue 实例作为 data 选项，Vue 将遍历此对象所有的属性，并使用 <code class="highlighter-rouge">Object.defineProperty</code> 把这些属性全部转为 <code class="highlighter-rouge">getter/setter</code>。</li>
  <li>每个组件实例都对应一个 watcher 实例，它会在组件渲染的过程中把“接触”过的数据属性记录为依赖。之后当依赖项的 setter 触发时，会通知 watcher，从而使它关联的组件重新渲染。</li>
  <li>getter/setter让 Vue 能够追踪依赖，在属性被访问和修改时通知变更。</li>
  <li>Vue 在更新 DOM 时是异步执行的。如果同一个 watcher 被多次触发，会去重再将实际操作放入队列中，等待DOM刷新。所以如果想操作数据刷新后的DOM应该在nextTick中进行。</li>
  <li>nextTick返回Promise对象，所以可以<code class="highlighter-rouge">await this.$nextTick()</code></li>
</ul>

<h2 id="vue-实例">vue 实例</h2>
<ul>
  <li>只有当实例被创建时就已经存在于 data 中的属性才是响应式的。如果你知道你会在晚些时候需要一个属性，那么你仅需要设置一些初始值。</li>
  <li>不要在选项属性或回调上使用箭头函数，比如 <code class="highlighter-rouge">created: () =&gt; console.log(this.a)</code> 或 <code class="highlighter-rouge">vm.$watch('a', newValue =&gt; this.myMethod())</code>，因为箭头函数并没有 this，this 会作为变量一直向上级词法作用域查找，直至找到为止。</li>
  <li>不需要关注变化就<code class="highlighter-rouge">Object.freeze()</code>。</li>
</ul>

<h2 id="模板语法">模板语法</h2>
<p>Vue 将模板编译成 虚拟DOM 渲染函数，计算出最少需要重新渲染多少组件。</p>
<ul>
  <li>每个绑定都只能包含单个表达式，所以<code class="highlighter-rouge">if (ok) { return message }</code> <code class="highlighter-rouge">var a = 1</code>都不会生效。模板表达式都被放在沙盒中，只能访问全局变量的一个白名单，如 <code class="highlighter-rouge">Math</code> 和 <code class="highlighter-rouge">Date</code> 。你不应该在模板表达式中试图访问用户定义的全局变量。</li>
  <li><code class="highlighter-rouge">v-html</code>只对可信内容使用 HTML 插值，绝不要对用户提供的内容使用插值，容易导致 XSS 攻击。</li>
  <li><code class="highlighter-rouge">&lt;a v-bind:[attributeName]="url"&gt; ... &lt;/a&gt;</code><br />
中括号内不可以有空格引号，动态<code class="highlighter-rouge">attributeName</code>考虑用Computed实现<br />
<code class="highlighter-rouge">attributeName</code>预期<code class="highlighter-rouge">String</code>，异常时为<code class="highlighter-rouge">null</code>，其他情况触发警告</li>
</ul>

<h2 id="计算属性和侦听器">计算属性和侦听器</h2>
<ul>
  <li>Computed是基于它们的响应式依赖进行缓存的。只在<strong>相关响应式依赖发生改变</strong>时它们才会重新求值。这就意味着只要 message 还没有发生改变，多次访问 reversedMessage 计算属性会立即返回之前的计算结果，而不必再次执行函数。</li>
  <li>Methods总会再次执行函数。</li>
  <li>Watch是Computed备选，Computed解决不了时再watch，比如：当需要在数据变化时执行异步或开销较大的操作时。</li>
</ul>

<h2 id="class-与-style-绑定">Class 与 Style 绑定</h2>
<p>可以放<code class="highlighter-rouge">String</code>, <code class="highlighter-rouge">Array</code>, <code class="highlighter-rouge">Object</code></p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;div v-bind:class="[{ active: isActive }, errorClass]"&gt;&lt;/div&gt;
&lt;div :style="{ display: ['-webkit-box', '-ms-flexbox', 'flex'] }"&gt;&lt;/div&gt; //这样写只会渲染数组中最后一个被浏览器支持的值。
</code></pre></div></div>
<h2 id="v-if-v-show-v-once条件渲染">v-if, v-show, v-once条件渲染</h2>
<ul>
  <li>添加<code class="highlighter-rouge">key</code>是为了让两个元素独立，不复用。</li>
  <li><code class="highlighter-rouge">v-show</code> 不支持 <code class="highlighter-rouge">&lt;template&gt;</code> 元素， <code class="highlighter-rouge">v-if</code>有销毁重建，<code class="highlighter-rouge">v-show</code>仅仅是隐藏显示。</li>
  <li>当 <code class="highlighter-rouge">v-if</code> 与 <code class="highlighter-rouge">v-for</code> 一起使用时，<code class="highlighter-rouge">v-for</code> 具有比 <code class="highlighter-rouge">v-if</code> 更高的优先级。最好是直接将列表过滤之后再循环。</li>
</ul>

<h2 id="v-for列表渲染">v-for列表渲染</h2>

<ul>
  <li>遍历对象时<code class="highlighter-rouge">{value, key, index}</code>第三个参数是index。</li>
  <li><strong>不要使用对象或数组之类的非基本类型值</strong>作为 v-for 的 <code class="highlighter-rouge">key</code> 。请用字符串或数值类型的值。</li>
  <li>过滤<code class="highlighter-rouge">&lt;li v-for="n in even(numbers)"&gt;&lt;/li&gt;</code> even是个function。</li>
</ul>

<p><strong>Vue 不能检测以下数组的变动：</strong></p>
<ul>
  <li>当你利用索引直接设置一个数组项时，例如：<code class="highlighter-rouge">vm.items[indexOfItem] = newValue</code></li>
</ul>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>vm.$set(vm.items, indexOfItem, newValue)
vm.items.splice(indexOfItem, 1, newValue)
vm.userProfile = Object.assign({}, vm.userProfile, obj)
</code></pre></div></div>

<ul>
  <li>当你修改数组的长度时，例如：<code class="highlighter-rouge">vm.items.length = newLength</code></li>
</ul>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
vm.items.splice(newLength)
// 我还以为可以直接把数组变长，然而其实并不行
// splice(start, deleteCount, item1, item2...)
// deleteCount省略，start之后数组的所有元素都会被删除。
// start超出长度向末尾添加，负数从末尾删除。

let arr = [1,2,3,4,5,6]
arr.splice(8)
console.log(arr) //[1, 2, 3, 4, 5, 6]

let arr = [1,2,3,4,5,6]
arr.splice(-8)
console.log(arr) //[]

let arr = [1,2,3,4,5,6]
arr.splice(3)
console.log(arr) //[1, 2, 3]
</code></pre></div></div>

<h2 id="v-onevent事件处理">v-on:event事件处理</h2>
<p>有时也需要在内联语句处理器中访问原始的 DOM 事件。可以用特殊变量 <code class="highlighter-rouge">$event</code> 把它传入方法：</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;button v-on:click="warn('Form cannot be submitted yet.', $event)"&gt;
  Submit
&lt;/button&gt;
</code></pre></div></div>

<h2 id="v-model表单输入绑定">v-model表单输入绑定</h2>
<ul>
  <li><code class="highlighter-rouge">v-model</code> 会忽略所有表单元素的 value、checked、selected attribute 的初始值而总是将 Vue 实例的数据作为数据来源。</li>
  <li>自定义<code class="highlighter-rouge">v-model</code></li>
</ul>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>model: {
  prop: 'checked',
  event: 'change'
}
</code></pre></div></div>
<ul>
  <li>text 和 textarea 元素使用 value 属性和 input 事件；input和change的区别是会影响中文输入。<br />
checkbox 和 radio 使用 checked 属性和 change 事件；<br />
select 字段将 value 作为 prop 并将 change 作为事件。</li>
  <li>number 修饰符返回number类型</li>
</ul>

<h2 id="组件基础">组件基础</h2>
<p>一个组件的 <strong>data 选项必须是一个函数</strong>，因此每个实例可以维护一份被返回对象的独立的拷贝。</p>

<ul>
  <li>为了满足元素嵌套规则可以写成</li>
</ul>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;table&gt;
  &lt;tr is="blog-post-row"&gt;&lt;/tr&gt;
&lt;/table&gt;
</code></pre></div></div>

<h2 id="组件注册同理router引入全部文件">组件注册(同理router引入全部文件)</h2>
<h3 id="组件和路由自动化">组件和路由自动化</h3>
<p><a href="https://www.daozhao.com/8605.html">https://www.daozhao.com/8605.html</a></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// require.context(directory, useSubdirectories = true, regExp = /^\.\/.*$/, mode = 'sync');
// mode可选"sync" | "eager" | "weak" | "async-weak" | "lazy" | "lazy-once"

// sync || eager:      just add all dependencies and continue
// lazy-once:          create a new async dependency block and add that block to this context
// lazy:               a new async dependency block per dependency and add all blocks to this context
// weak || async-weak: we mark all dependencies as weak

const requireComponent = require.context(
  './components',              // 其组件目录的相对路径
  false,                       // 是否查询其子目录
  /Base[A-Z]\w+\.(vue|js)$/    // 匹配基础组件文件名的正则表达式
)
requireComponent.keys().forEach(fileName =&gt; {
  console.log(requireComponent(fileName))
})
</code></pre></div></div>

<h2 id="prop">Prop</h2>
<ul>
  <li>验证
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>prop: {
  type: '字符串或数组',
  validator: function (value) {
      // 这个值必须匹配下列字符串中的一个
      return ['success', 'warning', 'danger'].indexOf(value) !== -1
  }
}
// prop 会在一个组件实例创建之前进行验证，所以实例的属性 (如 data、computed 等) 在 default 或 validator 函数中是不可用的。
</code></pre></div>    </div>
  </li>
  <li>传入所有属性<code class="highlighter-rouge">&lt;blog-post v-bind="post"&gt;&lt;/blog-post&gt;</code>等价于</li>
</ul>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;blog-post
  v-bind:id="post.id"
  v-bind:title="post.title"
&gt;&lt;/blog-post&gt;
</code></pre></div></div>
<ul>
  <li>对于绝大多数 attribute 来说，从外部提供给组件的值会替换掉组件内部设置好的值。所以如果传入 <code class="highlighter-rouge">type="text"</code> 就会替换掉 <code class="highlighter-rouge">type="date"</code> 并把它破坏！庆幸的是，class 和 style</li>
  <li>有了 <code class="highlighter-rouge">inheritAttrs: false</code> 和 <code class="highlighter-rouge">$attrs</code>，你就可以<strong>手动决定这些 attribute 会被赋予哪个元素</strong>。这个模式允许你在使用基础组件的时候更像是使用原始的 HTML 元素，而不会担心哪个元素是真正的根元素。</li>
</ul>

<h2 id="自定义事件">自定义事件</h2>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>model: {
    prop: 'checked' //默认value,
    event: 'change' //默认input
}
</code></pre></div></div>
<ul>
  <li><code class="highlighter-rouge">$listeners</code>里面包含了作用在这个组件上的所有监听器。通过<code class="highlighter-rouge">Computed + Object.assign({}, this.$listener) + v-on</code>可以重写事件。</li>
  <li>注意带有 .sync 修饰符的 v-bind 不能和表达式一起使用 (例如 <code class="highlighter-rouge">v-bind:title.sync=”doc.title + ‘!’”</code> 是无效的)。取而代之的是，你只能提供你想要绑定的属性名，类似 v-model。</li>
  <li><code class="highlighter-rouge">&lt;text-document v-bind.sync="doc"&gt;&lt;/text-document&gt;</code>这样会把 doc 对象中的每一个属性 (如 title) 都作为一个<strong>独立的 prop 传进去，然后各自添加用于更新的 v-on 监听器</strong>。</li>
</ul>

<h2 id="插槽">插槽</h2>
<ul>
  <li>
    <p>父级模板里的所有内容都是在父级作用域中编译的；子模板里的所有内容都是在子作用域中编译的。</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">&lt;slot&gt;Submit&lt;/slot&gt;</code>Submit就是默认的<code class="highlighter-rouge">placeholder</code>。</p>
  </li>
  <li>
    <p>注意 <code class="highlighter-rouge">v-slot</code> 只能添加在 <template> 上 (只有一种例外情况)，这一点和已经废弃的 slot attribute 不同。</template></p>
  </li>
  <li>
    <p>作用域插槽用法，解构</p>
  </li>
</ul>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;current-user&gt;
  &lt;template v-slot:other="otherSlotProps"&gt;
    ...
  &lt;/template&gt;

  // 解构
  &lt;template v-slot:default="{ user: person }"&gt;
    
  &lt;/template&gt;

  // 默认值
  &lt;template v-slot:another="{ user = { firstName: 'Guest' } }"&gt;
    
  &lt;/template&gt;
&lt;/current-user&gt;
</code></pre></div></div>

<h2 id="动态组件--异步组件">动态组件 &amp; 异步组件</h2>
<h3 id="keep-alive">keep-alive</h3>
<ul>
  <li>注意这个 <keep-alive> 要求被切换到的组件都有自己的名字，不论是通过组件的 name 选项还是局部/全局注册。</keep-alive></li>
</ul>

<h3 id="异步组件">异步组件</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>components: {
    a: require(['./my-async-component'], resolve),
    b: () =&gt; import('./my-async-component'),
    c: () =&gt; ({
        // 需要加载的组件 (应该是一个 `Promise` 对象)
        component: import('./MyComponent.vue'),
        // 异步组件加载时使用的组件
        loading: LoadingComponent,
        // 加载失败时使用的组件
        error: ErrorComponent,
        // 展示加载时组件的延时时间。默认值是 200 (毫秒)
        delay: 200,
        // 如果提供了超时时间且组件加载也超时了，
        // 则使用加载失败时使用的组件。默认值是：`Infinity`
        timeout: 3000
    })
}
</code></pre></div></div>

<h2 id="处理边界情况">处理边界情况</h2>
<p>应该避免在模板或计算属性中访问 <code class="highlighter-rouge">$refs</code>。</p>
<h3 id="依赖注入-provide-和-inject">依赖注入 provide 和 inject</h3>
<p><strong>provide中的属性和方法可以被后代访问到。</strong></p>

<h3 id="循环组件是调用自身">循环(组件是调用自身)。</h3>

<ol>
  <li>等到beforeCreate载绑上去
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>beforeCreate: function () {
  this.$options.components.TreeFolderContents = require('./tree-folder-contents.vue').default
}
</code></pre></div>    </div>
  </li>
  <li>异步
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>components: {
  TreeFolderContents: () =&gt; import('./tree-folder-contents.vue')
}
</code></pre></div>    </div>
  </li>
</ol>

<h3 id="程序化时间侦听hookbeforedestroy">程序化时间侦听<code class="highlighter-rouge">hook:beforeDestroy</code></h3>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mounted: function () {
  this.attachDatepicker('startDateInput')
  this.attachDatepicker('endDateInput')
},
methods: {
  attachDatepicker: function (refName) {
    var picker = new Pikaday({
      field: this.$refs[refName],
      format: 'YYYY-MM-DD'
    })

    this.$once('hook:beforeDestroy', function () {
      picker.destroy()
    })
  }
}
</code></pre></div></div>

<h2 id="过渡--动画">过渡 &amp; 动画</h2>
<p>过渡和动画是两个事件，用type（可选值animation||transition）来确定监听transitionend和animationend</p>

<h3 id="钩子">钩子</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;transition
  v-on:before-enter="beforeEnter"
  v-on:enter="enter"
  v-on:after-enter="afterEnter"
  v-on:enter-cancelled="enterCancelled"

  v-on:before-leave="beforeLeave"
  v-on:leave="leave"
  v-on:after-leave="afterLeave"
  v-on:leave-cancelled="leaveCancelled"
&gt;
  &lt;!-- ... --&gt;
&lt;/transition&gt;
</code></pre></div></div>

<h2 id="mixin混入">mixin混入</h2>
<p>和组件都是复用，但区别是<code class="highlighter-rouge">this</code>，可以用在比如发送短信60s。</p>

<h2 id="渲染函数-jsx">渲染函数 &amp;JSX</h2>
<p>新建[[h1-6]]标签时，省去<code class="highlighter-rouge">v-if</code>判断<code class="highlighter-rouge">this.level</code></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>render: function (createElement) {
    return createElement(
      'h' + this.level,   // 标签名称
      this.$slots.default // 子节点数组
    )
}
</code></pre></div></div>

<h3 id="虚拟domjsx函数式组件">虚拟DOM，JSX，函数式组件</h3>
<p>看不懂</p>

<h2 id="api">API</h2>
<h3 id="config">config</h3>
<h4 id="optionmergestrategies"><a href="https://cn.vuejs.org/v2/api/#optionMergeStrategies">optionMergeStrategies</a></h4>
<h4 id="keycodes"><a href="https://cn.vuejs.org/v2/api/#keyCodes">keyCodes</a></h4>
<h4 id="vueset和vuedelete"><a href="https://cn.vuejs.org/v2/api/#Vue-set">Vue.set</a>和<a href="https://cn.vuejs.org/v2/api/#Vue-delete">Vue.delete</a></h4>
<p>还是不懂为什么要删掉，我感觉日常把它设为空就好了，或许是用在数组套对象的时候，没用过，先记下来。</p>

<h3 id="data">data</h3>
<p>如果需要，可以通过将 <code class="highlighter-rouge">vm.$data</code> 传入 <code class="highlighter-rouge">JSON.parse(JSON.stringify(...))</code> 得到深拷贝的原始数据对象。</p>

<h3 id="provide--inject">provide / inject</h3>
<p><code class="highlighter-rouge">provide</code> 和 <code class="highlighter-rouge">inject</code> 绑定并不是可响应的。这是刻意为之的。然而，如果你传入了一个可监听的对象，那么其对象的属性还是可响应的。</p>

<h3 id="watch"><a href="https://cn.vuejs.org/v2/api/#vm-watch">watch</a></h3>
<p>停止监听，但是<code class="highlighter-rouge">immediate: true</code>的第一次无法取消监听。</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>var unwatch = vm.$watch(
  'value',
  function () {
    doSomething()
    if (unwatch) {
      unwatch()
    }
  },
  { immediate: true }
)
</code></pre></div></div>
<h3 id="forceupdate">forceUpdate</h3>
<p>迫使 Vue 实例重新渲染。注意它仅仅影响实例本身和插入插槽内容的子组件，而不是所有子组件。</p>

    </div>
  </div><a class="u-url" href="/vue/vue.html" hidden></a>
</article>
      </div>
    </main>

    <!--<footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col">
        <p class="feed-subscribe">
          <a href="/feed.xml">
            <svg class="svg-icon orange">
              <use xlink:href="/assets/minima-social-icons.svg#rss"></use>
            </svg><span>Subscribe</span>
          </a>
        </p>
        <ul class="contact-list">
          <li class="p-name">刘瑞琪</li>
          <li><a class="u-email" href="mailto:405782134@qq.com">405782134@qq.com</a></li>
        </ul>
      </div>
      <div class="footer-col">
        <p>每天进步一..
</p>
      </div>
    </div>
  </div>

</footer>
-->
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
      integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/js/bootstrap.min.js"
      integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
  </body>
</html>
